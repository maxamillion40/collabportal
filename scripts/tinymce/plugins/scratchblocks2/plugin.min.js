/*
 * scratchblocks2
 * http://github.com/blob8108/scratchblocks2
 *
 * Copyright 2013, Tim Radvan
 * @license MIT
 * http://opensource.org/licenses/MIT
 */
tinymce.PluginManager.add('scratchblocks2', function(editor, url) {
	editor.addButton('scratchblocks', {
		text: false,
		icon: "scratchblocks2",
		title: 'Skript einfügen',
		onclick: function() {
		// Open window
		editor.windowManager.open({
			title: 'Scratch Skript einfügen',
			width: 420,
			height: 180,
			body: [
				{type: 'textbox', name: 'code', label: 'Block Plugin Code', multiline: true, minHeight: 120}
			],
			onsubmit: function(e) {
				// Insert content when the window form is submitted
				editor.insertContent('<pre class="blocks">' + e.data.code + '</pre><br />');
			}
		});
		}
	});
});